{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../api/Auth/index.ts"],"names":[],"mappings":";;;IAEA,MAAM,WAAW,GAAkB,KAAK,WAAW,OAAgB,EAAE,GAAgB;QACnF,4DAA4D;QAC5D,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;QAE7B,gCAAgC;QAChC,MAAM,WAAW,GAAG;YAClB,EAAE,IAAI,EAAE,+BAA+B,EAAE,IAAI,EAAE,CAAC,OAAO,CAAC,EAAE;YAC1D,EAAE,IAAI,EAAE,gCAAgC,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE;YAC1D,EAAE,IAAI,EAAE,oBAAoB,EAAE,IAAI,EAAE,CAAC,OAAO,CAAC,EAAE;YAC/C,EAAE,IAAI,EAAE,oBAAoB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE;SAC/C,CAAC;QAEF,MAAM,SAAS,GAAG,WAAW,CAAC,MAAM,CAAC,UAAU,EAAE;YAC/C,OAAO,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC;QACtD,CAAC,CAAC,CAAC;QAEH,MAAM,eAAe,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,2BAA2B;QAElG,uCAAuC;QACvC,OAAO,CAAC,GAAG,GAAG;YACZ,qCAAqC;YACrC,wBAAwB;YACxB,IAAI,EAAE,eAAe;SACtB,CAAC;IACJ,CAAC,CAAC;IACF,kBAAe,WAAW,CAAC","sourcesContent":["import { AzureFunction, Context, HttpRequest } from \"@azure/functions\"\n\nconst httpTrigger: AzureFunction = async function (context: Context, req: HttpRequest): Promise<void> {\n  //context.log('HTTP trigger function processed a request.');\n  const name1 = req.query.name;\n\n  // Roles -'Guest','User','Admin'\n  const RoleMapping = [\n    { user: \"admin@sha2013.onmicrosoft.com\", role: [\"Admin\"] },\n    { user: \"varsha@no2labs.onmicrosoft.com\", role: [\"User\"] },\n    { user: \"tim@nudecision.com\", role: [\"Admin\"] },\n    { user: \"tim@mtjohnston.net\", role: [\"User\"] },\n  ];\n\n  const userroles = RoleMapping.filter(function (rl) {\n    return rl.user.toLowerCase() == name1.toLowerCase();\n  });\n\n  const responseMessage = userroles.length > 0 ? userroles[0].role : []; // no authorized roles = []\n\n  //const responseMessage=\"found1 \"+name;\n  context.res = {\n    // status: 200, /* Defaults to 200 */\n    // body: \"found1 \"+name1\n    body: responseMessage,\n  };\n};\nexport default httpTrigger;\n"]}